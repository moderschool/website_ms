<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Psychology Assessment</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --accent: #e74c3c;
            --warning: #f39c12;
            --light: #f5f7fa;
            --dark: #2c3e50;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --radius: 10px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: var(--radius);
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .slides-container {
            position: relative;
            min-height: 500px;
            overflow: hidden;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            opacity: 0;
            transform: translateX(50px);
            transition: all 0.5s ease;
            pointer-events: none;
        }
        
        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }
        
        .card {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .question {
            font-size: 1.3rem;
            margin-bottom: 25px;
            color: var(--dark);
            text-align: center;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option:hover {
            border-color: var(--primary);
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .option.selected {
            border-color: var(--primary);
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .visual-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .visual-option {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .visual-option:hover {
            border-color: var(--secondary);
            transform: scale(1.03);
        }
        
        .visual-option.selected {
            border-color: var(--secondary);
            background-color: rgba(46, 204, 113, 0.1);
        }
        
        .visual-option img {
            max-width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #27ae60;
        }
        
        .btn-warning {
            background-color: var(--warning);
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .progress-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            flex-grow: 1;
            margin: 0 15px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            font-weight: bold;
            color: var(--dark);
            min-width: 50px;
            text-align: center;
        }
        
        .slide-indicators {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #e0e0e0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .indicator.active {
            background-color: var(--primary);
            transform: scale(1.2);
        }
        
        .result-category {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .result-category:last-child {
            border-bottom: none;
        }
        
        .category-title {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .insight {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .disclaimer {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 30px;
            text-align: center;
        }
        
        .personality-type {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa, #e4e8ed);
            border-radius: var(--radius);
        }
        
        .type-icon {
            font-size: 3rem;
            margin-right: 20px;
            color: var(--primary);
        }
        
        .type-info h3 {
            color: var(--dark);
            margin-bottom: 5px;
        }
        
        .type-info p {
            color: #7f8c8d;
        }
        
        .radar-chart {
            width: 100%;
            height: 300px;
            margin: 20px 0;
        }
        
        .recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .recommendation-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary);
        }
        
        .recommendation-card h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .strengths-weaknesses {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .strengths, .weaknesses {
            padding: 20px;
            border-radius: var(--radius);
        }
        
        .strengths {
            background-color: rgba(46, 204, 113, 0.1);
            border-left: 4px solid var(--secondary);
        }
        
        .weaknesses {
            background-color: rgba(231, 76, 60, 0.1);
            border-left: 4px solid var(--accent);
        }
        
        .strengths h3, .weaknesses h3 {
            margin-bottom: 10px;
        }
        
        .strengths ul, .weaknesses ul {
            padding-left: 20px;
        }
        
        .strengths li, .weaknesses li {
            margin-bottom: 8px;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .visual-options, .strengths-weaknesses, .results-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .recommendations {
                grid-template-columns: 1fr;
            }
            
            .progress-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .progress-bar {
                width: 100%;
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Employee Psychology Assessment</h1>
            <p class="subtitle">Understand your work style, motivations, and psychological preferences</p>
        </header>
        
        <div class="progress-container">
            <span class="progress-text" id="progress-text">1/10</span>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <span class="progress-text" id="progress-percent">10%</span>
        </div>
        
        <div class="slides-container">
            <!-- Introduction Slide -->
            <div class="slide active" id="slide-intro">
                <div class="card">
                    <h2>Welcome to the Psychology Assessment</h2>
                    <p>This assessment will help you understand your work style, personality traits, motivations, and psychological preferences in a professional environment.</p>
                    <p>You'll be presented with multiple-choice questions and visual preference selections. Your responses will be analyzed to provide a comprehensive psychological profile.</p>
                    <p><strong>Note:</strong> This is not a clinical assessment but a tool for self-reflection and professional development.</p>
                    <button class="btn" id="start-btn">Begin Assessment</button>
                </div>
            </div>
            
            <!-- Question Slides will be dynamically inserted here -->
        </div>
        
        <div class="slide-indicators" id="slide-indicators">
            <!-- Indicators will be dynamically inserted -->
        </div>
        
        <div class="navigation" id="navigation">
            <button class="btn" id="prev-btn" style="display: none;">Previous</button>
            <button class="btn" id="next-btn" style="display: none;">Next</button>
        </div>
        
        <p class="disclaimer">
            This assessment is for self-reflection and professional development purposes only and is not a substitute for professional psychological evaluation.
        </p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded - initializing assessment");
            
            // Assessment data
            const assessmentData = [
                // Introduction slide is handled separately
                
                // MCQ Questions
                {
                    type: "mcq",
                    question: "When faced with a complex problem at work, your first instinct is to:",
                    options: [
                        "Gather data and analyze all aspects systematically",
                        "Trust your intuition and make a quick decision",
                        "Consult with colleagues to get different perspectives",
                        "Brainstorm creative solutions without constraints"
                    ],
                    category: "problem_solving",
                    trait: "analytical"
                },
                {
                    type: "mcq",
                    question: "How do you prefer to receive feedback on your work?",
                    options: [
                        "Direct and straightforward, focusing on areas for improvement",
                        "Balanced with positive reinforcement and constructive points",
                        "In private, with time to process the information",
                        "In a collaborative discussion where I can ask questions"
                    ],
                    category: "communication",
                    trait: "direct"
                },
                {
                    type: "mcq",
                    question: "What motivates you most in your professional life?",
                    options: [
                        "Achieving measurable results and meeting targets",
                        "Building positive relationships with team members",
                        "Learning new skills and professional development",
                        "Having creative freedom and autonomy in my work"
                    ],
                    category: "motivation",
                    trait: "achievement"
                },
                {
                    type: "mcq",
                    question: "In team settings, you typically take on the role of:",
                    options: [
                        "The organizer who structures tasks and timelines",
                        "The supporter who helps others and maintains harmony",
                        "The specialist who focuses on specific technical tasks",
                        "The innovator who suggests new ideas and approaches"
                    ],
                    category: "team_dynamics",
                    trait: "organizer"
                },
                {
                    type: "mcq",
                    question: "When you experience work-related stress, you tend to:",
                    options: [
                        "Create a detailed plan to address the source of stress",
                        "Take breaks and practice mindfulness or relaxation",
                        "Talk through the situation with trusted colleagues",
                        "Channel the energy into focused, productive work"
                    ],
                    category: "stress_management",
                    trait: "planner"
                },
                
                // Visual Questions
                {
                    type: "visual",
                    question: "Which workspace environment appeals to you most?",
                    options: [
                        { 
                            text: "Organized and structured", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='20' y='20' width='160' height='110' fill='%23f1f2f6' stroke='%23333' stroke-width='2'/%3E%3Crect x='40' y='40' width='40' height='30' fill='%233498db'/%3E%3Crect x='90' y='40' width='40' height='30' fill='%232ecc71'/%3E%3Crect x='140' y='40' width='40' height='30' fill='%23e74c3c'/%3E%3Crect x='40' y='80' width='140' height='40' fill='%239b59b6'/%3E%3C/svg%3E",
                            trait: "organized"
                        },
                        { 
                            text: "Creative and flexible", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='10' y='10' width='180' height='130' fill='%23f9f9f9' stroke='%23333' stroke-width='2'/%3E%3Ccircle cx='50' cy='50' r='20' fill='%23f39c12'/%3E%3Cpolygon points='120,30 150,70 90,70' fill='%232ecc71'/%3E%3Crect x='40' y='90' width='120' height='30' fill='%233498db'/%3E%3C/svg%3E",
                            trait: "creative"
                        },
                        { 
                            text: "Collaborative and open", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='10' y='10' width='180' height='130' fill='%23f1f2f6' stroke='%23333' stroke-width='2'/%3E%3Ccircle cx='60' cy='50' r='15' fill='%233498db'/%3E%3Ccircle cx='100' cy='50' r='15' fill='%232ecc71'/%3E%3Ccircle cx='140' cy='50' r='15' fill='%23e74c3c'/%3E%3Crect x='30' y='90' width='140' height='30' fill='%239b59b6'/%3E%3C/svg%3E",
                            trait: "collaborative"
                        },
                        { 
                            text: "Calm and minimalist", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='20' y='20' width='160' height='110' fill='%23f9f9f9' stroke='%23333' stroke-width='2'/%3E%3Crect x='50' y='50' width='100' height='50' fill='%23333'/%3E%3C/svg%3E",
                            trait: "minimalist"
                        }
                    ],
                    category: "environment_preference"
                },
                {
                    type: "visual",
                    question: "Which image best represents your ideal work process?",
                    options: [
                        { 
                            text: "Step-by-step progression", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='20' y='60' width='30' height='30' fill='%233498db'/%3E%3Crect x='70' y='60' width='30' height='30' fill='%232ecc71'/%3E%3Crect x='120' y='60' width='30' height='30' fill='%23e74c3c'/%3E%3Crect x='170' y='60' width='30' height='30' fill='%239b59b6'/%3E%3Cline x1='50' y1='75' x2='70' y2='75' stroke='%23333' stroke-width='2'/%3E%3Cline x1='100' y1='75' x2='120' y2='75' stroke='%23333' stroke-width='2'/%3E%3Cline x1='150' y1='75' x2='170' y2='75' stroke='%23333' stroke-width='2'/%3E%3C/svg%3E",
                            trait: "sequential"
                        },
                        { 
                            text: "Dynamic and interconnected", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Ccircle cx='100' cy='75' r='50' fill='none' stroke='%23333' stroke-width='2'/%3E%3Ccircle cx='70' cy='50' r='15' fill='%233498db'/%3E%3Ccircle cx='130' cy='50' r='15' fill='%232ecc71'/%3E%3Ccircle cx='130' cy='100' r='15' fill='%23e74c3c'/%3E%3Ccircle cx='70' cy='100' r='15' fill='%239b59b6'/%3E%3Cline x1='82' y1='58' x2='118' y2='58' stroke='%23333' stroke-width='2'/%3E%3Cline x1='118' y1='92' x2='82' y2='92' stroke='%23333' stroke-width='2'/%3E%3Cline x1='85' y1='65' x2='85' y2='85' stroke='%23333' stroke-width='2'/%3E%3Cline x1='115' y1='65' x2='115' y2='85' stroke='%23333' stroke-width='2'/%3E%3C/svg%3E",
                            trait: "integrated"
                        },
                        { 
                            text: "Flexible with multiple paths", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Crect x='30' y='30' width='140' height='90' fill='none' stroke='%23333' stroke-width='2'/%3E%3Ccircle cx='50' cy='50' r='10' fill='%233498db'/%3E%3Cpath d='M50,50 Q100,30 150,50' stroke='%23333' stroke-width='2' fill='none'/%3E%3Cpath d='M50,50 Q100,70 150,50' stroke='%23333' stroke-width='2' fill='none'/%3E%3Ccircle cx='150' cy='50' r='10' fill='%232ecc71'/%3E%3C/svg%3E",
                            trait: "adaptive"
                        },
                        { 
                            text: "Centralized with clear focus", 
                            image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 150'%3E%3Ccircle cx='100' cy='75' r='40' fill='%233498db'/%3E%3Cline x1='100' y1='35' x2='100' y2='115' stroke='white' stroke-width='4'/%3E%3Cline x1='60' y1='75' x2='140' y2='75' stroke='white' stroke-width='4'/%3E%3C/svg%3E",
                            trait: "focused"
                        }
                    ],
                    category: "work_process"
                }
            ];

            // Personality type definitions
            const personalityTypes = {
                "Analytical Strategist": {
                    description: "Logical, systematic thinkers who excel at problem-solving and planning",
                    traits: ["analytical", "structured", "logical", "planner", "organized", "sequential"],
                    icon: "ðŸ“Š",
                    color: "#3498db"
                },
                "Creative Innovator": {
                    description: "Imaginative, original thinkers who thrive on new ideas and possibilities",
                    traits: ["creative", "adaptive", "intuitive", "innovator"],
                    icon: "ðŸ’¡",
                    color: "#f39c12"
                },
                "Supportive Collaborator": {
                    description: "Empathic, relationship-focused individuals who excel in team environments",
                    traits: ["collaborative", "supportive", "balanced", "relationship-oriented"],
                    icon: "ðŸ¤",
                    color: "#2ecc71"
                },
                "Dynamic Achiever": {
                    description: "Energetic, results-driven professionals who thrive in fast-paced environments",
                    traits: ["achievement", "focused", "direct", "dynamic"],
                    icon: "ðŸš€",
                    color: "#e74c3c"
                }
            };

            // User responses storage
            let userResponses = [];
            let currentSlideIndex = 0;
            const totalSlides = assessmentData.length + 2; // +2 for intro and results

            // DOM elements
            const slidesContainer = document.querySelector('.slides-container');
            const slideIndicators = document.getElementById('slide-indicators');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const startBtn = document.getElementById('start-btn');
            const progressBar = document.getElementById('progress');
            const progressText = document.getElementById('progress-text');
            const progressPercent = document.getElementById('progress-percent');

            // Initialize the assessment
            function initAssessment() {
                console.log("Initializing assessment");
                
                // Create question slides
                assessmentData.forEach((question, index) => {
                    createQuestionSlide(question, index);
                });
                
                // Create results slide
                createResultsSlide();
                
                // Create slide indicators
                createSlideIndicators();
                
                // Update navigation
                updateNavigation();
                
                // Add event listeners
                startBtn.addEventListener('click', nextSlide);
                prevBtn.addEventListener('click', prevSlide);
                nextBtn.addEventListener('click', nextSlide);
                
                console.log("Assessment initialized with " + totalSlides + " slides");
            }

            // Create a question slide
            function createQuestionSlide(question, index) {
                const slide = document.createElement('div');
                slide.className = 'slide';
                slide.id = `slide-${index + 1}`;
                
                let content = '';
                
                if (question.type === 'mcq') {
                    content = `
                        <div class="card">
                            <div class="question">${question.question}</div>
                            <div class="options">
                                ${question.options.map((option, optIndex) => `
                                    <div class="option" data-index="${optIndex}">${option}</div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                } else if (question.type === 'visual') {
                    content = `
                        <div class="card">
                            <div class="question">${question.question}</div>
                            <div class="visual-options">
                                ${question.options.map((option, optIndex) => `
                                    <div class="visual-option" data-index="${optIndex}">
                                        <img src="${option.image}" alt="${option.text}">
                                        <div>${option.text}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                }
                
                slide.innerHTML = content;
                slidesContainer.appendChild(slide);
                
                // Add event listeners to options
                setTimeout(() => {
                    const options = slide.querySelectorAll('.option, .visual-option');
                    options.forEach(option => {
                        option.addEventListener('click', function() {
                            // Remove selected class from all options
                            options.forEach(opt => opt.classList.remove('selected'));
                            
                            // Add selected class to clicked option
                            this.classList.add('selected');
                            
                            // Store response
                            userResponses[index] = {
                                question: question.question,
                                category: question.category,
                                trait: question.trait || question.options[this.dataset.index].trait,
                                response: question.type === 'mcq' 
                                    ? question.options[this.dataset.index] 
                                    : question.options[this.dataset.index].text,
                                responseIndex: parseInt(this.dataset.index)
                            };
                            
                            console.log("Response stored:", userResponses[index]);
                            
                            // Enable next button
                            nextBtn.disabled = false;
                        });
                    });
                }, 100);
            }

            // Create results slide
            function createResultsSlide() {
                const slide = document.createElement('div');
                slide.className = 'slide';
                slide.id = 'slide-results';
                
                slide.innerHTML = `
                    <div class="card">
                        <h2>Your Psychological Profile</h2>
                        <div id="results-content">
                            <!-- Results will be dynamically inserted -->
                        </div>
                        <div class="navigation">
                            <button class="btn btn-warning" id="download-btn">Download Report</button>
                            <button class="btn btn-secondary" id="restart-btn">Take Assessment Again</button>
                        </div>
                    </div>
                `;
                
                slidesContainer.appendChild(slide);
                
                // Add event listeners for results slide buttons
                setTimeout(() => {
                    document.getElementById('download-btn').addEventListener('click', downloadReport);
                    document.getElementById('restart-btn').addEventListener('click', restartAssessment);
                }, 100);
            }

            // Create slide indicators
            function createSlideIndicators() {
                for (let i = 0; i < totalSlides; i++) {
                    const indicator = document.createElement('div');
                    indicator.className = `indicator ${i === 0 ? 'active' : ''}`;
                    indicator.dataset.index = i;
                    indicator.addEventListener('click', () => goToSlide(i));
                    slideIndicators.appendChild(indicator);
                }
            }

            // Update navigation buttons and progress
            function updateNavigation() {
                // Show/hide previous button
                prevBtn.style.display = currentSlideIndex > 0 ? 'inline-block' : 'none';
                
                // Update next button text
                if (currentSlideIndex === 0) {
                    nextBtn.textContent = 'Begin Assessment';
                } else if (currentSlideIndex === totalSlides - 1) {
                    nextBtn.textContent = 'View Results';
                } else {
                    nextBtn.textContent = 'Next';
                }
                
                // Show navigation buttons after intro
                if (currentSlideIndex > 0) {
                    prevBtn.style.display = 'inline-block';
                    nextBtn.style.display = 'inline-block';
                }
                
                // Update progress
                const progress = (currentSlideIndex / (totalSlides - 1)) * 100;
                progressBar.style.width = `${progress}%`;
                progressText.textContent = `${currentSlideIndex + 1}/${totalSlides}`;
                progressPercent.textContent = `${Math.round(progress)}%`;
                
                // Update slide indicators
                document.querySelectorAll('.indicator').forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlideIndex);
                });
                
                // If we're on the results slide, generate results
                if (currentSlideIndex === totalSlides - 1) {
                    generateResults();
                }
            }

            // Navigate to next slide
            function nextSlide() {
                if (currentSlideIndex < totalSlides - 1) {
                    // Validate current slide if it's a question
                    if (currentSlideIndex > 0 && currentSlideIndex <= assessmentData.length) {
                        if (!userResponses[currentSlideIndex - 1]) {
                            alert('Please select an answer before continuing.');
                            return;
                        }
                    }
                    
                    currentSlideIndex++;
                    showSlide(currentSlideIndex);
                    updateNavigation();
                }
            }

            // Navigate to previous slide
            function prevSlide() {
                if (currentSlideIndex > 0) {
                    currentSlideIndex--;
                    showSlide(currentSlideIndex);
                    updateNavigation();
                }
            }

            // Go to specific slide
            function goToSlide(index) {
                // Only allow going to completed slides or next slide
                if (index <= currentSlideIndex) {
                    currentSlideIndex = index;
                    showSlide(currentSlideIndex);
                    updateNavigation();
                }
            }

            // Show specific slide
            function showSlide(index) {
                // Hide all slides
                document.querySelectorAll('.slide').forEach(slide => {
                    slide.classList.remove('active');
                });
                
                // Show target slide
                let slideId;
                if (index === 0) {
                    slideId = 'slide-intro';
                } else if (index === totalSlides - 1) {
                    slideId = 'slide-results';
                } else {
                    slideId = `slide-${index}`;
                }
                
                const targetSlide = document.getElementById(slideId);
                if (targetSlide) {
                    targetSlide.classList.add('active');
                }
            }

            // Generate results
            function generateResults() {
                const resultsContent = document.getElementById('results-content');
                resultsContent.innerHTML = '';
                
                // Analyze responses and determine personality type
                const personalityType = determinePersonalityType();
                const typeInfo = personalityTypes[personalityType];
                const insights = analyzeResponses();
                
                // Display personality type
                const personalityElement = document.createElement('div');
                personalityElement.className = 'personality-type';
                personalityElement.innerHTML = `
                    <div class="type-icon">${typeInfo.icon}</div>
                    <div class="type-info">
                        <h3>Your Personality Type: ${personalityType}</h3>
                        <p>${typeInfo.description}</p>
                    </div>
                `;
                resultsContent.appendChild(personalityElement);
                
                // Display insights
                const insightsContainer = document.createElement('div');
                insightsContainer.className = 'results-grid';
                
                Object.keys(insights).forEach(category => {
                    if (category === 'traitScores') return;
                    
                    const categoryElement = document.createElement('div');
                    categoryElement.className = 'result-category';
                    
                    const title = document.createElement('h3');
                    title.className = 'category-title';
                    title.textContent = formatCategoryName(category);
                    
                    const insight = document.createElement('div');
                    insight.className = 'insight';
                    insight.textContent = insights[category];
                    
                    categoryElement.appendChild(title);
                    categoryElement.appendChild(insight);
                    insightsContainer.appendChild(categoryElement);
                });
                
                resultsContent.appendChild(insightsContainer);
                
                // Display summary
                const summaryElement = document.createElement('div');
                summaryElement.className = 'insight';
                summaryElement.innerHTML = `
                    <h3>Summary</h3>
                    <p>Based on your responses, you demonstrate strong tendencies in ${typeInfo.traits.slice(0, 3).join(', ')}. This suggests you would thrive in environments that value ${getEnvironmentRecommendation(personalityType)}.</p>
                `;
                resultsContent.appendChild(summaryElement);
            }

            // Analyze responses
            function analyzeResponses() {
                const insights = {};
                const traitScores = {};
                
                userResponses.forEach(response => {
                    if (!insights[response.category]) {
                        insights[response.category] = '';
                    }
                    
                    // Track trait scores
                    if (!traitScores[response.trait]) {
                        traitScores[response.trait] = 0;
                    }
                    traitScores[response.trait]++;
                    
                    // Generate insights based on responses
                    switch(response.category) {
                        case 'problem_solving':
                            insights[response.category] = 'You approach problems with a systematic and analytical mindset, preferring to gather data before making decisions.';
                            break;
                        case 'communication':
                            insights[response.category] = 'You value direct and honest communication, with a preference for constructive feedback delivered respectfully.';
                            break;
                        case 'motivation':
                            insights[response.category] = 'You are driven by achievement and measurable results, with a strong focus on meeting targets and goals.';
                            break;
                        case 'team_dynamics':
                            insights[response.category] = 'In team settings, you naturally take on organizational roles, ensuring tasks are structured and timelines are met.';
                            break;
                        case 'stress_management':
                            insights[response.category] = 'You manage stress by creating detailed plans to address challenges systematically.';
                            break;
                        case 'environment_preference':
                            insights[response.category] = 'You thrive in organized, structured environments with clear processes and expectations.';
                            break;
                        case 'work_process':
                            insights[response.category] = 'You prefer linear, step-by-step work processes with clear milestones and progression.';
                            break;
                    }
                });
                
                insights.traitScores = traitScores;
                return insights;
            }

            // Determine personality type
            function determinePersonalityType() {
                const traitScores = {};
                
                userResponses.forEach(response => {
                    if (!traitScores[response.trait]) {
                        traitScores[response.trait] = 0;
                    }
                    traitScores[response.trait]++;
                });
                
                let bestMatch = { type: null, score: 0 };
                
                Object.keys(personalityTypes).forEach(type => {
                    const typeTraits = personalityTypes[type].traits;
                    let matchScore = 0;
                    
                    typeTraits.forEach(trait => {
                        if (traitScores[trait]) {
                            matchScore += traitScores[trait];
                        }
                    });
                    
                    if (matchScore > bestMatch.score) {
                        bestMatch = { type: type, score: matchScore };
                    }
                });
                
                return bestMatch.type || "Analytical Strategist";
            }

            // Get environment recommendation based on personality type
            function getEnvironmentRecommendation(personalityType) {
                switch(personalityType) {
                    case "Analytical Strategist":
                        return "structured processes, clear goals, and data-driven decision making";
                    case "Creative Innovator":
                        return "flexibility, creative freedom, and opportunities for innovation";
                    case "Supportive Collaborator":
                        return "teamwork, positive relationships, and collaborative environments";
                    case "Dynamic Achiever":
                        return "fast-paced settings, clear targets, and opportunities for advancement";
                    default:
                        return "balanced environments with both structure and flexibility";
                }
            }

            // Format category name
            function formatCategoryName(category) {
                return category.split('_').map(word => 
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ');
            }

            // Download report
            function downloadReport() {
                const personalityType = determinePersonalityType();
                const typeInfo = personalityTypes[personalityType];
                
                let reportContent = `EMPLOYEE PSYCHOLOGY ASSESSMENT REPORT\n`;
                reportContent += `====================================\n\n`;
                reportContent += `Assessment Date: ${new Date().toLocaleDateString()}\n\n`;
                reportContent += `PERSONALITY TYPE: ${personalityType}\n`;
                reportContent += `Description: ${typeInfo.description}\n\n`;
                
                reportContent += `Thank you for completing the assessment!\n`;
                
                // Create and trigger download
                const blob = new Blob([reportContent], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `psychology-assessment-${new Date().toISOString().slice(0,10)}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }

            // Restart assessment
            function restartAssessment() {
                currentSlideIndex = 0;
                userResponses = [];
                showSlide(0);
                updateNavigation();
            }

            // Initialize the assessment
            initAssessment();
        });
    </script>
</body>
</html>