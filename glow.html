<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>350px Stacking Video Banner</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        body { margin: 0; background: #111; overflow-x: hidden; font-family: sans-serif; }

        /* This creates the scrollable area */
        .scroll-container {
            height: 400vh; 
        }

        /* The banner wrapper is now 350px high and fixed in the center of the screen */
        .banner-viewport {
            position: fixed;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            width: 100vw;
            height: 350px; /* Fixed height as requested */
            overflow: hidden;
            background: #000;
        }

        .video-box {
            position: absolute;
            top: 0;
            height: 350px;
            width: 25vw; /* Each box is exactly 25% of screen width */
            will-change: transform;
            overflow: hidden;
            box-shadow: -5px 0 15px rgba(0,0,0,0.5);
        }

        video {
            width: 100vw; /* Video stays wide to prevent distortion */
            height: 350px;
            object-fit: cover;
            position: absolute;
            top: 0;
        }

        /* Aligning video content so each 25% lane shows a different part of the video */
        #v1 video { left: 0; }
        #v2 video { left: -25vw; }
        #v3 video { left: -50vw; }
        #v4 video { left: -75vw; }

        /* Initial horizontal positions */
        #v1 { left: 0; z-index: 1; }
        #v2 { left: 25vw; z-index: 2; }
        #v3 { left: 50vw; z-index: 3; }
        #v4 { left: 75vw; z-index: 4; }

        .label {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            font-weight: bold;
            z-index: 10;
            text-shadow: 1px 1px 5px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body>

    <div class="scroll-container">
        <div class="banner-viewport">
            
            <div class="video-box" id="v1">
                <div class="label">Video 01</div>
                <video autoplay muted loop playsinline src="01.mp4"></video>
            </div>

            <div class="video-box" id="v2">
                <div class="label">Video 02</div>
                <video autoplay muted loop playsinline src="02.mp4"></video>
            </div>

            <div class="video-box" id="v3">
                <div class="label">Video 03</div>
                <video autoplay muted loop playsinline src="03.mp4"></video>
            </div>

            <div class="video-box" id="v4">
                <div class="label">Video 04</div>
                <video autoplay muted loop playsinline src="04.mp4"></video>
            </div>

        </div>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".scroll-container",
                start: "top top",
                end: "bottom bottom",
                scrub: 1
            }
        });

        // The sequence:
        // Move 4 over 3
        tl.to("#v4", { left: "50vw", ease: "none" })
        // Move 4 & 3 over 2
          .to(["#v4", "#v3"], { left: "25vw", ease: "none" })
        // Move 4, 3, & 2 over 1
          .to(["#v4", "#v3", "#v2"], { left: "0vw", ease: "none" });
    </script>
</body>
</html>