<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern School, Kota</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- GSAP Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #fefaf0; /* Cream background */
            color: #5d2a2a; /* Maroon font color */
            line-height: 1.6;
        }

        /* Top Navbar & Fixed Elements */
        .navbar {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 20px;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed; 
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: transform 0.3s ease; 
        }

        body.menu-open .navbar {
            transform: translateY(-100%);
        }

        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            width: 30px;
            height: 24px;
            justify-content: space-between;
            position: fixed; 
            top: 25px; 
            left: 20px;
            z-index: 1002; 
        }

        .hamburger span {
            display: block;
            height: 3px;
            width: 100%;
            background-color: #5d2a2a;
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) { transform: translateY(10px) rotate(45deg); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: translateY(-10px) rotate(-45deg); }

        .logo { 
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .logo img { height: 40px; width: auto; }
     

        .admission-btn { 
            background-color: transparent; 
            color: #5d2a2a; 
            border: 2px solid #5d2a2a; 
            padding: 8px 18px; 
            border-radius: 20px; 
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.3s, color 0.3s;
            position: fixed;
            top: 15px;
            right: 20px;
            z-index: 1002;
        }
        .admission-btn:hover { background-color: #5d2a2a; color: white; }

        /* Full Page Overlay Menu CONTAINER */
        .overlay-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            z-index: 1001; 
            transform: translateX(-100%); /* Start hidden off-screen left */
            transition: transform 0.5s ease;
            overflow: hidden; /* Important for horizontal transitions */
        }

        .overlay-menu.active {
            transform: translateX(0); /* Slide in from the left */
        }

        /* Menu Wrapper for Drill-Down Effect */
        .menu-wrapper {
            width: 100%; /* Changed from 200% to 100% */
            height: 100%;
            display: flex; /* Makes main and sub-menu components line up horizontally */
            transition: transform 0.4s ease-in-out;
            margin-top: 80px;
        }

        /* State when a submenu is active */
        .overlay-menu.submenu-active .menu-wrapper {
            transform: translateX(-100%); /* Slide the main menu out (left) and the submenu in (center) */
        }
        
        /* Main Menu and Submenu Screen */
        .main-menu-screen, .submenu-screen {
            width: 100%; /* Each takes full width of the wrapper */
            height: 100%;
            list-style: none;
            text-align: center;
            padding: 20px;
            flex-shrink: 0; /* Prevents shrinking */
            overflow-y: auto; /* Allows scrolling if needed */
            display: flex;
            flex-direction: column;
            align-items: center; /* Center the menu items horizontally */
        }

        /* BACK BUTTON Container - Now positioned at top of submenu */
        .submenu-header {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: left;
            padding: 10px 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s, visibility 0.4s;
            z-index: 1003;
        }
        
        .overlay-menu.submenu-active .submenu-header {
            opacity: 1;
            visibility: visible;
        }

        .back-btn {
            background: none;
            border: none;
            color: #5d2a2a;
            font-size: 28px; /* Same font size as main menu */
            font-weight: 600;
            cursor: pointer;
            padding: 15px 10px;
            border-radius: 5px;
            transition: color 0.3s;
            width: 100%;
            max-width: 400px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-btn:hover {
            color: #8b4513; /* Same hover color as menu items */
        }

        .back-btn i {
            margin-right: 8px;
        }

        /* Menu Item Styles - Shared */
        .main-menu-screen li, .submenu-screen li {
            margin: 0;
            padding: 0;
            width: 100%; /* Ensure full width for centering */
            display: flex;
            justify-content: center; /* Center the links */
        }
        
        .main-menu-screen a, .submenu-screen a {
            text-decoration: none;
            color: #5d2a2a;
            font-weight: 600;
            display: block; 
            padding: 15px 10px;
            margin-bottom: 5px; /* Spacing between menu items */
            transition: color 0.3s;
            position: relative;
            width: 100%; /* Take full width of the container */
            max-width: 400px; /* Limit maximum width for better appearance */
        }
        
        .main-menu-screen a, .submenu-screen a { 
            font-size: 28px; 
            text-align: center; /* Center the text */
        }

        /* Arrow Indicator for Drill-Down */
        .main-menu-screen a.has-submenu::after {
            content: '\f054'; /* Font Awesome Chevron Right */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            right: 15%;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
        }

        /* Hover Styles (unchanged from original intent) */
        .main-menu-screen a:hover, .submenu-screen a:hover {
            color: #8b4513;
        }
        
        /* Submenu screen styling */
        .submenu-screen {
            background-color: white; /* Same background as main menu */
        }
        
        /* FIXED: Breadcrumb Navigation - Now properly positioned */
        .breadcrumb {
            position: absolute;
            top: 90px; /* Positioned below the navbar */
            left: 20px;
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: #f8d7b3;
            z-index: 10;
            background-color: rgba(93, 42, 42, 0.8); /* Semi-transparent background */
            padding: 8px 15px;
            border-radius: 4px;
            backdrop-filter: blur(5px);
        }
        
        .breadcrumb a {
            color: #f8d7b3;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .breadcrumb a:hover {
            color: white;
            text-decoration: underline;
        }
        
        .breadcrumb span {
            margin: 0 8px;
            color: #f8d7b3;
        }
        
        /* FIXED: History Section - Added padding-top to prevent navbar overlap */
        .history-section {
            background-color: #5d2a2a; /* Maroon background */
            color: white;
            padding: 120px 20px 60px; /* Increased top padding from 80px to 120px */
            position: relative;
            overflow: hidden;
            min-height: 500px;
            margin-top: 0; /* Ensure no additional margin */
        }
        
        .history-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            align-items: flex-start;
            justify-content: space-between;
        }
        
        .history-content {
            flex: 1;
            min-width: 300px;
            padding-right: 40px;
            z-index: 2;
        }
        
        .history-image {
            flex: 1;
            min-width: 300px;
            position: relative;
            z-index: 1;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease-out;
            align-self: flex-end; /* Position image at bottom */
            text-align: right; /* Align image to the right */
        }
        
        .history-image.animate {
            opacity: 1;
            transform: translateY(0);
        }
        
        .history-image img {
            width: 100%;
            max-width: 500px;
            height: auto;
            border-radius: 8px;
        }
        
        .history-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            font-weight: 700;
            color: #f8d7b3;
        }
        
        .history-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 25px;
        }
        
        .history-btn {
            display: inline-block;
            background-color: #f8d7b3;
            color: #5d2a2a;
            padding: 12px 25px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .history-btn:hover {
            background-color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* UPDATED: Horizontal Timeline Section with GSAP Scroll */
        .timeline-section {
            background-color: #f8d7b3; /* Light cream background */
            padding: 80px 20px;
            position: relative;
            overflow: hidden;
        }
        
        .timeline-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .timeline-title {
            text-align: center;
            font-size: 2.5rem;
            color: #5d2a2a;
            margin-bottom: 40px;
            font-weight: 700;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        /* Horizontal Timeline Top Section */
        .timeline-horizontal {
            position: relative;
            margin-bottom: 60px;
            padding: 20px 0 100px;
            overflow: hidden; /* Hide horizontal scrollbar */
            width: 100%;
        }
        
        /* Horizontal timeline line */
        .timeline-line-horizontal {
            position: absolute;
            left: 50px;
            right: 50px;
            top: 45px;
            height: 4px;
            background-color: #5d2a2a;
            border-radius: 2px;
            z-index: 1;
        }
        
        /* Horizontal timeline items container */
        .timeline-items-container {
            position: relative;
            width: 100%;
            overflow: visible;
        }
        
        /* Horizontal timeline items */
        .timeline-items-horizontal {
            display: flex;
            justify-content: flex-start;
            position: relative;
            z-index: 2;
            transition: transform 0.5s ease;
            width: max-content; /* Let content determine width */
            padding: 0 50px;
        }
        
        .timeline-item-horizontal {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            flex-shrink: 0;
            width: 100px; /* Reduced width since we're only showing year */
            margin: 0 15px;
            opacity: 0.5;
            transform: scale(0.9);
        }
        
        .timeline-item-horizontal.active {
            opacity: 1;
            transform: scale(1);
        }
        
        .timeline-marker-horizontal {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #5d2a2a;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.5rem;
            position: relative;
            z-index: 3;
            transition: all 0.3s ease;
            box-shadow: 0 0 0 4px #f8d7b3, 0 4px 12px rgba(0, 0, 0, 0.2);
        }
        
        .timeline-item-horizontal.active .timeline-marker-horizontal {
            transform: scale(1.1);
            background-color: #8b4513;
            box-shadow: 0 0 0 4px #f8d7b3, 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Timeline description panel with image - GSAP Enhanced */
        .timeline-description-panel {
            background-color: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            min-height: 500px;
            display: flex;
            flex-direction: column;
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .timeline-desc-title {
            font-size: 2.2rem;
            color: #5d2a2a;
            margin-bottom: 15px;
            font-weight: 800;
            line-height: 1.2;
        }
        
        .timeline-desc-subtitle {
            font-size: 1.4rem;
            color: #8b4513;
            margin-bottom: 15px;
            font-weight: 600;
            font-style: italic;
            border-left: 4px solid #f8d7b3;
            padding-left: 15px;
        }
        
        .timeline-desc-date {
            font-size: 1.4rem;
            color: #8b4513;
            margin-bottom: 25px;
            font-weight: 700;
            display: inline-block;
            background: #f8d7b3;
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        .timeline-image-container {
            width: 100%;
            margin-bottom: 25px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            max-height: 300px;
        }
        
        .timeline-image {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.8s ease;
        }
        
        .timeline-description-panel.active .timeline-image {
            transform: scale(1.02);
        }
        
        .timeline-desc-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333;
        }
        
        .timeline-desc-text p {
            margin-bottom: 20px;
        }
        
        /* GSAP Scroll Section Indicator */
        .scroll-indicator {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            z-index: 999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .scroll-indicator.active {
            opacity: 1;
        }
        
        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #5d2a2a;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .indicator-dot.active {
            background-color: #8b4513;
            transform: scale(1.3);
            border-color: #f8d7b3;
        }
        
        /* Scroll Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: rgba(93, 42, 42, 0.1);
            z-index: 1000;
        }
        
        .scroll-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #5d2a2a, #8b4513);
            transition: width 0.1s ease;
        }
        
        /* History Section GSAP Animations */
        .history-section .history-title {
            opacity: 0;
            transform: translateY(30px);
        }
        
        .history-section .history-content {
            opacity: 0;
            transform: translateX(-30px);
        }
        
        .history-section .history-image {
            opacity: 0;
            transform: translateX(30px);
        }
        
        /* GSAP Pin Spacer */
        .timeline-pin-spacer {
            height: 300vh; /* Space for pinning timeline */
        }
        
        /* UPDATED: Content area with framed description */
        .content {
            padding-top: 80px; /* Offset for fixed navbar */
            padding-left: 20px;
            padding-right: 20px;
            background: linear-gradient(to bottom, white, #fefaf0); /* White to cream gradient */
        }
        
        .description-frame {
            background-color: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin: 30px auto;
            max-width: 1200px;
            border-left: 5px solid #5d2a2a;
        }
        
        .description-frame h2 {
            color: #5d2a2a;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .description-frame p {
            margin-bottom: 20px;
            text-align: justify;
        }
        
        .hero {
            background-color: #f0f0f0;
            padding: 50px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .features {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .feature-card {
            flex: 1;
            min-width: 250px;
            background-color: white;
            padding: 20px;
            margin: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .feature-card i {
            font-size: 40px;
            color: #5d2a2a;
            margin-bottom: 15px;
        }
        
        /* New 3-column info section */
        .footer-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            background-color: #5d2a2a;
            color: white;
            padding: 40px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-col {
            flex: 0 0 33.33%; /* 3 columns - each takes 33.33% */
            padding: 0 15px;
            margin-bottom: 20px;
        }
        
        .info-col.logo-col {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .info-col.address-col {
            text-align: center;
            border-left: 1px solid rgba(255, 255, 255, 0.2);
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .info-col.contact-col {
            text-align: right;
        }
        
        .footer-logo {
            height: 80px;
            margin-bottom: 15px;
        }
        
        .info-col h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #f8d7b3;
        }
        
        .info-col p {
            margin-bottom: 8px;
            line-height: 1.6;
        }
        
        .info-col a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .info-col a:hover {
            color: #f8d7b3;
            text-decoration: underline;
        }
        
        /* New 6-column footer section */
        .footer-columns {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            background-color: #5d2a2a;
            color: white;
            padding: 40px 20px;
        }
        
        .footer-col {
            flex: 0 0 16.66%; /* 6 columns - each takes 16.66% */
            min-width: 150px;
            margin-bottom: 20px;
        }
        
        .footer-col h3 {
            font-size: 18px;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
            color: #f8d7b3;
        }
        
        .footer-col ul {
            list-style: none;
        }
        
        .footer-col ul li {
            margin-bottom: 8px;
        }
        
        .footer-col a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-col a:hover {
            color: #f8d7b3;
            text-decoration: underline;
        }
        
        /* Bottom footer section */
        .footer-bottom {
            background-color: #4a1f1f;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .copyright {
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: #f8d7b3;
            text-decoration: underline;
        }
        
        .footer-bottom-right {
            display: flex;
            align-items: center;
        }
        
        .social-media {
            display: flex;
            gap: 15px;
        }
        
        .social-media a {
            color: white;
            font-size: 20px;
            transition: color 0.3s;
        }
        
        .social-media a:hover {
            color: #f8d7b3;
        }
        
        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .timeline-marker-horizontal {
                width: 70px;
                height: 70px;
                font-size: 1.3rem;
            }
            
            .timeline-item-horizontal {
                width: 90px;
                margin: 0 12px;
            }
        }
        
        @media (max-width: 992px) {
            .info-col {
                flex: 0 0 100%; /* 1 column on medium screens */
                text-align: center !important;
                border: none !important;
                margin-bottom: 30px;
            }
            
            .info-col.logo-col {
                align-items: center;
            }
            
            .footer-col {
                flex: 0 0 33.33%; /* 3 columns on medium screens */
            }
            
            .history-container {
                flex-direction: column;
            }
            
            .history-content {
                padding-right: 0;
                margin-bottom: 40px;
                text-align: center;
            }
            
            .history-image {
                text-align: center;
                align-self: center;
            }
            
            /* Timeline adjustments for medium screens */
            .timeline-item-horizontal {
                width: 80px;
                margin: 0 10px;
            }
            
            .timeline-marker-horizontal {
                width: 60px;
                height: 60px;
                font-size: 1.1rem;
            }
            
            .timeline-line-horizontal {
                left: 30px;
                right: 30px;
                top: 40px;
            }
            
            .timeline-items-horizontal {
                padding: 0 30px;
            }
            
            .scroll-indicator {
                right: 10px;
            }
        }
        
        @media (max-width: 768px) {
            .footer-col {
                flex: 0 0 50%; /* 2 columns on small screens */
            }
            
            .footer-bottom {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .footer-bottom-right {
                flex-direction: column;
                gap: 15px;
            }
            
            .social-media {
                margin-right: 0;
            }
            
            .copyright {
                flex-direction: column;
                gap: 10px;
            }
            
            .history-title {
                font-size: 2rem;
            }
            
            .description-frame {
                padding: 25px;
            }
            
            /* Adjust history section padding for smaller screens */
            .history-section {
                padding: 100px 15px 40px;
            }
            
            /* Timeline adjustments for small screens */
            .timeline-title {
                font-size: 1.8rem;
                margin-bottom: 30px;
            }
            
            .timeline-item-horizontal {
                width: 70px;
                margin: 0 8px;
            }
            
            .timeline-marker-horizontal {
                width: 55px;
                height: 55px;
                font-size: 1rem;
            }
            
            .timeline-description-panel {
                padding: 25px;
                min-height: 450px;
            }
            
            .timeline-desc-title {
                font-size: 1.6rem;
            }
            
            .timeline-desc-text {
                font-size: 1.1rem;
            }
            
            .timeline-line-horizontal {
                left: 20px;
                right: 20px;
                top: 35px;
            }
            
            .timeline-items-horizontal {
                padding: 0 20px;
            }
            
            .scroll-indicator {
                display: none; /* Hide on mobile for better UX */
            }
            
            /* Breadcrumb adjustments */
            .breadcrumb {
                font-size: 0.8rem;
                top: 80px;
                left: 15px;
                padding: 6px 12px;
            }
        }
        
        @media (max-width: 576px) {
            .footer-col {
                flex: 0 0 100%; /* 1 column on extra small screens */
            }
            
            .history-section {
                padding: 90px 15px 40px;
            }
            
            .description-frame {
                padding: 20px;
            }
            
            /* Timeline adjustments for extra small screens */
            .timeline-section {
                padding: 60px 15px;
            }
            
            .timeline-title {
                font-size: 1.6rem;
            }
            
            .timeline-item-horizontal {
                width: 60px;
                margin: 0 6px;
            }
            
            .timeline-marker-horizontal {
                width: 50px;
                height: 50px;
                font-size: 0.9rem;
            }
            
            .timeline-line-horizontal {
                top: 30px;
                left: 15px;
                right: 15px;
            }
            
            .timeline-items-horizontal {
                padding: 0 15px;
            }
            
            .timeline-description-panel {
                padding: 20px;
                min-height: 400px;
            }
            
            .timeline-desc-title {
                font-size: 1.4rem;
            }
            
            .timeline-desc-text {
                font-size: 1rem;
            }
            
            /* Breadcrumb adjustments */
            .breadcrumb {
                font-size: 0.75rem;
                top: 75px;
                left: 10px;
                padding: 5px 10px;
            }
        }

        @media (max-width: 480px) {
            .timeline-item-horizontal {
                width: 50px;
                margin: 0 5px;
            }
            
            .timeline-marker-horizontal {
                width: 45px;
                height: 45px;
                font-size: 0.85rem;
            }
            
            .timeline-line-horizontal {
                top: 28px;
            }
            
            .timeline-items-horizontal {
                padding: 0 10px;
            }
        }

    </style>
</head>
<body>
    
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress">
        <div class="scroll-progress-bar"></div>
    </div>
    
    <!-- Scroll Indicator Dots -->
    <div class="scroll-indicator" id="scrollIndicator">
        <!-- Dots will be generated by JavaScript -->
    </div>
    
    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <button class="admission-btn">Enquiry</button>

    <nav class="navbar">
        <img src="ms_logo.png" style="height:70px;margin-top:-10px;">
    </nav>

    <div class="overlay-menu" id="overlayMenu">
        
        <div class="submenu-header" id="submenuHeader">
            <button class="back-btn" id="backButton"><i class="fas fa-arrow-left"></i> Back</button>
        </div>
        
        <div class="menu-wrapper" id="menuWrapper">
            
            <ul class="main-menu-screen" id="mainMenu">
                <li><a href="#" class="close-menu">Home</a></li>
                
                <li class="menu-item-with-submenu" data-submenu="about-us">
                    <a href="#" class="has-submenu">About Us</a> 
                </li>
                
                <li class="menu-item-with-submenu" data-submenu="academics">
                    <a href="#" class="has-submenu">Academics</a>
                </li>
                
                <li><a href="#" class="close-menu">Admissions</a></li>
                
                <li class="menu-item-with-submenu" data-submenu="campus-life">
                    <a href="#" class="has-submenu">Campus Life</a>
                </li>
                
                <li class="menu-item-with-submenu" data-submenu="contact-us">
                    <a href="#" class="has-submenu">Contact Us</a>
                </li>
            </ul>
            
            <ul class="submenu-screen" id="submenuScreen">
                </ul>

        </div>
    </div>

    <!-- FIXED: History Section - Now with proper padding to prevent navbar overlap -->
    <section class="history-section" id="historySection">
        <!-- FIXED: Breadcrumb Navigation - Now properly positioned below navbar -->
        <div class="breadcrumb">
            <a href="#">Home</a>
            <span><i class="fas fa-chevron-right"></i></span>
            <a href="#">About Us</a>
            <span><i class="fas fa-chevron-right"></i></span>
            <span>Our History</span>
        </div>
        
        <div class="history-container">
            <div class="history-content">
                <h2 class="history-title">Our rich legacy, <br>Our strong history...</h2>
            </div>
            <div class="history-image" id="historyImage">
                <img src="history1.png" alt="Modern School Campus">
            </div>
        </div>
    </section>

    <!-- GSAP Enhanced Timeline Section -->
    <div class="timeline-pin-spacer" id="timelinePinSpacer"></div>
    
    <section class="timeline-section" id="timelineTrigger">
        <h2 class="timeline-title">Our Journey Through Time</h2>
        
        <!-- Horizontal Timeline with Milestones -->
        <div class="timeline-horizontal">
            <div class="timeline-line-horizontal"></div>
            <div class="timeline-items-container">
                <div class="timeline-items-horizontal" id="timelineItemsHorizontal">
                    <!-- Timeline items will be generated by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Description Panel -->
        <div class="timeline-description-panel" id="timelineDescriptionPanel">
            <!-- Content will be populated by JavaScript -->
        </div>
    </section>

   
     <!-- New 3-column info section -->
    <div class="footer-info">
        <div class="info-col logo-col">
            <img src="logo.png" alt="Modern School Logo" class="footer-logo">
           
            <p>Excellence in Education Since 1973</p>
        </div>
        <div class="info-col address-col">
            <h3>Our Address</h3>
            <p>Modern School</p>
            <p>Sector - A Talwandi,</p>
            <p>Kota, Rajasthan 324005</p>
            <p>India</p>
        </div>
        <div class="info-col contact-col">
            <h3>Contact Information</h3>
            <p><i class="fas fa-phone"></i> +91-744-24211167</p>
            <p><i class="fas fa-mobile-alt"></i> +91-744-2411116</p>
            <p><i class="fas fa-envelope"></i> info@modernschool.ac.in</p>
            <p><i class="fas fa-globe"></i> www.modernschool.ac.in</p>
        </div>
    </div>

    <!-- New 6-column footer section -->
    <div class="footer-columns">
        <div class="footer-col">
            <h3>Academics</h3>
            <ul>
                <li><a href="#">Curriculum</a></li>
                <li><a href="#">Exam & Result</a></li>
                <li><a href="#">Calendar</a></li>
                <li><a href="#">Counselling</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>Admissions</h3>
            <ul>
                <li><a href="#">Apply Now</a></li>
                <li><a href="#">Tuition & Fees</a></li>
                <li><a href="#">RTE</a></li>
                <li><a href="#">Campus Tours</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>Campus Life</h3>
            <ul>
                <li><a href="#">Student Activities</a></li>
                <li><a href="#">ModFest</a></li>
                <li><a href="#">Athletics</a></li>
                <li><a href="#">Campus Facilities</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>About Us</h3>
            <ul>
                <li><a href="#">Our History</a></li>
                <li><a href="#">Vision & Mission</a></li>
                <li><a href="#">Leadership</a></li>
                <li><a href="#">Our Core Team</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>Resources</h3>
            <ul>
                <li><a href="#">Alumni Network</a></li>
                <li><a href="#">CBSE Corner</a></li>
                <li><a href="#">TC Verification</a></li>
                <li><a href="#">Mandatory Disclosures</a></li>
                
            </ul>
        </div>
        <div class="footer-col">
            <h3>Contact</h3>
            <ul>
                <li><a href="#">Faculty</a></li>
                <li><a href="#">Campus Location</a></li>
                <li><a href="#">Career</a></li>
                <li><a href="#">General Inquiry</a></li>
            </ul>
        </div>
    </div>

    <!-- Bottom footer section -->
    <div class="footer-bottom">
        <div class="copyright">
            <p>&copy; 2025 Modern School, Kota. All rights reserved.</p>
          
        </div>  <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms & Conditions</a>
            </div>
        <div class="footer-bottom-right">
            <div class="social-media">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize GSAP
        gsap.registerPlugin(ScrollTrigger);
        
        // Get DOM elements
        const hamburger = document.getElementById('hamburger');
        const overlayMenu = document.getElementById('overlayMenu');
        const mainMenu = document.getElementById('mainMenu');
        const submenuScreen = document.getElementById('submenuScreen');
        const backButton = document.getElementById('backButton');
        const body = document.body;
        const historyImage = document.getElementById('historyImage');
        const timelineItemsHorizontal = document.getElementById('timelineItemsHorizontal');
        const timelineDescriptionPanel = document.getElementById('timelineDescriptionPanel');
        const scrollIndicator = document.getElementById('scrollIndicator');
        const scrollProgressBar = document.querySelector('.scroll-progress-bar');
        const timelinePinSpacer = document.getElementById('timelinePinSpacer');
        
        // Define all submenu data
        const submenus = {
            'about-us': [
                { text: 'Our History', href: '#' },
                { text: 'Vision & Mission', href: '#' },
                { text: 'Leadership', href: '#' },
                { text: 'Our Core Team', href: '#' },
            ],
            'academics': [
                { text: 'Curriculum', href: '#' },
                { text: 'Exam &amp; Result', href: '#' },
                { text: 'Calendar', href: '#' },
                { text: 'Counselling', href: '#' },
            ],
            'campus-life': [
                { text: 'Student Activities', href: '#' },
                { text: 'ModFest', href: '#' },
                { text: 'Athletics', href: '#' },
                { text: 'Campus Facilities', href: '#' },
            ],
            'contact-us': [
                { text: 'Faculty ', href: '#' },
                { text: 'Campus Location', href: '#' },
                { text: 'Career', href: '#' },
                { text: 'General Inquiry', href: '#' },
            ]
        };

        // Function to close the entire menu and reset the view
        function closeMenu() {
            hamburger.classList.remove('active');
            overlayMenu.classList.remove('active');
            body.classList.remove('menu-open');
            // Ensure menu returns to the main screen view
            overlayMenu.classList.remove('submenu-active');
            submenuScreen.innerHTML = ''; // Clear submenu content
        }

        // Toggle main menu when hamburger is clicked
        hamburger.addEventListener('click', function() {
            if (this.classList.contains('active')) {
                closeMenu();
            } else {
                this.classList.add('active');
                overlayMenu.classList.add('active');
                body.classList.add('menu-open');
            }
        });

        // Handle clicks on main menu items with submenus (drill-down)
        document.querySelectorAll('.main-menu-screen a.has-submenu').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const menuItem = this.closest('.menu-item-with-submenu');
                const submenuKey = menuItem.getAttribute('data-submenu');
                const submenuData = submenus[submenuKey];

                if (!submenuData) return;

                // 1. Build the submenu content
                submenuScreen.innerHTML = ''; // Clear previous content
                submenuData.forEach(item => {
                    const li = document.createElement('li');
                    // Add the 'close-menu' class to submenu links to close the entire menu on click
                    li.innerHTML = `<a href="${item.href}" class="close-menu">${item.text}</a>`; 
                    submenuScreen.appendChild(li);
                });
                
                // Re-attach the closeMenu listener to the newly created links
                submenuScreen.querySelectorAll('.close-menu').forEach(button => {
                    button.addEventListener('click', function(e) {
                        e.preventDefault();
                        closeMenu(); // Close on click
                        alert(`Navigating to: ${this.textContent}`);
                    });
                });

                // 2. Trigger the slide transition
                overlayMenu.classList.add('submenu-active');
            });
        });

        // Handle the Back Button click
        backButton.addEventListener('click', function(e) {
            e.preventDefault();
            // Slide back to the main menu view
            overlayMenu.classList.remove('submenu-active');
            // Clear the submenu content after the transition starts
            setTimeout(() => {
                submenuScreen.innerHTML = '';
            }, 400); // 400ms to match the CSS transition duration
        });

        // Close menu when clicking on a close-menu link (home, admissions, etc.)
        document.querySelectorAll('.close-menu').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                closeMenu();
                alert(`Navigating to: ${this.textContent}`);
            });
        });
        
        // Close menu when clicking outside of menu content (overlay background)
        overlayMenu.addEventListener('click', function(e) {
            // Check if the click target is the overlay background itself
            if (e.target === this) {
                closeMenu();
            }
        });
        
        // Animate the history image when it comes into view
        function animateHistoryImage() {
            const historySection = document.getElementById('historySection');
            const rect = historySection.getBoundingClientRect();
            
            // If the section is in the viewport (with a 100px offset to account for navbar)
            if (rect.top < (window.innerHeight - 100) && rect.bottom >= 0) {
                historyImage.classList.add('animate');
                // Remove the event listener after animation is triggered
                window.removeEventListener('scroll', animateHistoryImage);
            }
        }
        
        // Add scroll event listener to trigger the image animation
        window.addEventListener('scroll', animateHistoryImage);
        
        // Also check on page load in case the section is already in view
        window.addEventListener('load', animateHistoryImage);
        
        // Timeline content data with all the provided years
        const timelineData = {
            '1973': {
                title: 'Foundation',
                subtitle: 'MRS. F.T. SINGH',
                date: '1973',
                image: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>A visionary whose faith in education became Modern's foundation.</strong></p>
                <p><strong>Faith that Built a Future</strong></p>
                <p>Every great story begins with a dreamer for us, it was Mrs. F.T. Singh, lovingly called Mama. With faith in humanity and an unshakable belief in education, she laid the first brick of Modern School. Her purpose was simple yet profound to build not just a school, but a home where values would shape futures.</p>
                <p><strong>Humble Beginnings, Great Dreams</strong> It all started in a single room six curious children, a few benches, and Mama's boundless faith. She didn't dream of numbers; she dreamed of nurturing hearts. Those six young learners became the roots of a legacy that would one day grow into a flourishing family of Modernites.</p>
                <p>Each lesson she taught carried warmth, discipline, and purpose. It was never about perfection, but about potential about seeing the extraordinary in every child. From that tiny classroom, a movement began — one that continues to inspire thousands today.</p>`
            },
            '1976': {
                title: 'Strength in Togetherness',
                subtitle: 'Building the Modern Family',
                date: '1976',
                image: 'https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>Behind every vision stands a team that believes — and Mama found hers. With teachers who shared her dedication, Modern School began to find its rhythm. Together, they worked not for recognition, but for transformation - hand in hand, heart to heart, building the foundation of the Modern family.</p>
                <p>Modern School began to grow not because of advertisements, but because of trust. Families believed in Mama's vision, and that belief became Modern's biggest strength.</p>
                <p><strong>Houses that Built Spirit</strong> As Modern grew, so did its heartbeat the four houses: Pearl, Ruby, Emerald, and Diamond.</p>`
            },
            '1978': {
                title: 'DR. DEEPAK SINGH',
                subtitle: 'The guiding force who turned vision into a legacy of learning.',
                date: '1978',
                image: 'https://images.unsplash.com/photo-1577896851231-70ef18881754?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>The Torch Passes On</strong></p>
                <p>In 1978, Dr. Deepak Singh joined Mama, carrying with him energy, vision, and fresh ideas. With the same passion and unwavering values, he became the force that turned Mama's dream into a growing legacy. Today, as the Chairman, he continues to guide Modern with the same purpose - nurturing minds, shaping character, and carrying forward her light.</p>`
            },
            '1981': {
                title: 'A New Dawn - Talwandi',
                subtitle: 'A dream grew into a landmark',
                date: '1981',
                image: 'https://images.unsplash.com/photo-1562774053-701939374585?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>The Talwandi branch was built a turning point that transformed the future of Modern School. From Garh to a grand new campus, it marked the moment Modern's vision found its wings. A new beginning, yet rooted in the same values that Mama had planted years ago.</p>`
            },
            '1991': {
                title: 'A Hub of Growth and Innovation',
                subtitle: 'Modern School Talwandi Expansion',
                date: '1991',
                image: 'https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>Modern School Talwandi soon became the heart of the Modern legacy — a vibrant campus that grew with the dreams of its students. Classrooms multiplied, facilities expanded, and new buildings rose, each one echoing the same spirit of excellence.</p>
                <p>Every wall, corridor, and courtyard reflected purpose-built not for grandeur, but for growth. The expansion was not just physical; it was a reflection of Modern's evolving vision for holistic education.</p>
                <p>Today, the Talwandi campus stands as a landmark of dedication and progress - a space where every child's potential is nurtured, and every dream finds direction.</p>`
            },
            '1994': {
                title: 'A Home for Readers & Discovery',
                subtitle: 'Library and Laboratories',
                date: '1994',
                image: 'https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>A Home for Readers</strong></p>
                <p>The library became the quiet heartbeat of Modern School - a place where stories, ideas, and imagination came alive. Rows of books nurtured young minds, teaching them to think deeply and dream endlessly.</p>
                <p><strong>Spaces of Discovery</strong></p>
                <p>Modern School introduced dedicated science and computer laboratories - spaces where curiosity met creativity. These labs encouraged students to question, explore, and learn by doing. Every experiment became a step toward innovation, every discovery a moment of pride.</p>`
            },
            '1996': {
                title: 'Making Waves of Excellence',
                subtitle: 'Swimming Pool Inauguration',
                date: '1996',
                image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>The inauguration of the swimming pool marked another milestone in Modern's journey - one of the very first schools in the region to offer such a facility. It became a space where students learned resilience, confidence, and focus - lessons that stayed with them far beyond the pool.</p>`
            },
            '1998': {
                title: 'The Computer Lab of the late 90s',
                subtitle: 'Where curiosity met technology',
                date: '1998',
                image: 'https://images.unsplash.com/photo-1591123120675-6f7f1aae0e5b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>Where curiosity met technology and imagination found a digital canvas. It wasn't just about screens and keyboards, but about opening young minds to endless possibilities, shaping thinkers ready to explore a rapidly evolving world of innovation.</p>`
            },
            '2002': {
                title: 'The Auditorium & Basketball Court',
                subtitle: 'Spaces for Expression and Dreams',
                date: '2002',
                image: 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>The Auditorium - A Stage for Expression</strong></p>
                <p>Modern's auditorium became a hub of creativity and celebration. From morning assemblies to grand events, it echoed with laughter, applause, and inspiration. It stood as a space where every child could express, perform, and shine.</p>
                <p><strong>A Court of Dreams</strong></p>
                <p>The state-of-the-art basketball court, with its wooden flooring, became a source of pride for Modernites. It wasn't just a sports facility—it was a stage where teamwork, discipline, and determination were learned.</p>
                <p>Every bounce of the ball echoed the Modern spirit - to play fair, to play strong, and to never stop striving.</p>`
            },
            '2004': {
                title: 'MR. VAIBHAV SINGH',
                subtitle: 'The dynamic mind shaping modern ideas into meaningful impact.',
                date: '2004',
                image: 'https://images.unsplash.com/photo-1560250056-07ba64664864?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>A New Energy - A Dynamic Transformation</strong></p>
                <p>In 2004, a new chapter began as Mr. Vaibhav Singh joined Modern School carrying forward a legacy while igniting a wave of transformation. Young, visionary, and deeply inspired, he brought a renewed sense of energy and innovation to the institution.</p>
                <p>He believed that the true strength of education lies in balance — the perfect blend of values and vision, roots and wings. His leadership embraced technology, global perspectives, and new-age learning, yet always stayed grounded in the timeless ethics that Modern was built upon.</p>
                <p>He envisioned a school where every student would thrive not only academically but emotionally and socially - a place where learning would be joyful, purposeful, and personal. Under his direction, Modern stepped confidently into the future, integrating smart classrooms, modern teaching methodologies, and holistic learning environments.</p>
                <p>His philosophy, "At Modern, We Care," became more than a motto - it became a movement. It reflected empathy in action, nurturing every child with attention, affection, and understanding.</p>
                <p>His arrival marked a generational shift - a moment when Modern embraced the future with open arms, carrying forward its past with pride and purpose.</p>`
            },
            '2014': {
                title: 'The Steps Inaugurated',
                subtitle: 'First branch for youngest learners',
                date: '2014',
                image: 'https://images.unsplash.com/photo-1541692641319-981cc79ee10a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>As Modern continued to grow, a new dream took shape -the first branch was opened, dedicated to the youngest learners. This marked the birth of Steps-The Playgroup Wing, a nurturing space where curiosity met care.</p>`
            },
            '2016': {
                title: 'Baran Branch Opens',
                subtitle: 'Expanding Modern\'s Reach',
                date: '2016',
                image: 'https://images.unsplash.com/photo-1498243691581-b145c3f54a5a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>Modern School's journey of growth reached new horizons with the opening of the Baran branch. It reflected the institution's commitment to spreading quality education beyond Kota - bringing Modern's values, excellence, and spirit to new communities.</p>`
            },
            '2017': {
                title: 'Bharatpur & Jaipur Branches',
                subtitle: 'Expanding across Rajasthan',
                date: '2017',
                image: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p><strong>Bharatpur Branch Inaugurated</strong></p>
                <p>With the inauguration of the Bharatpur branch, Modern's dream of nurturing young minds across Rajasthan took another step forward.</p>
                <p><strong>Jaipur Branch Established</strong></p>
                <p>The establishment of Modern School Jaipur marked a proud milestone bringing Modern's legacy to the capital city. Designed with state-of-the-art infrastructure and a forward-thinking approach, it became a symbol of how tradition and innovation can coexist beautifully. Here, the Modern vision of holistic growth found a new and dynamic home.</p>
                <p><strong>Learning Through Experience - Educational Visits</strong></p>
                <p>Modern School always believed that education goes beyond books.</p>`
            },
            '2021': {
                title: 'Nayanohra Branch Opens',
                subtitle: 'Another chapter in Modern\'s journey',
                date: '2021',
                image: 'https://images.unsplash.com/photo-1541339907198-e08756dedf3f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>The Nayanohra branch added yet another chapter to Modern's inspiring journey of expansion. Set amid serene surroundings, it was built to offer a learning environment that encouraged exploration, creativity, and confidence. Each new branch carried one heartbeat to nurture the next generation with love, integrity, and excellence.</p>`
            },
            '2025': {
                title: 'Continuing the Legacy',
                subtitle: 'Our story has just begun',
                date: '2025',
                image: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
                description: `<p>As our story has just begun, we carry forward the values that built our foundation integrity, innovation, and inspiration. With every new chapter, we honour our legacy while embracing the future, continuing the journey of shaping minds, touching hearts, and creating tomorrow's Modern-because We Care.</p>`
            }
        };

        // Function to generate timeline items (just year markers)
        function generateTimelineItems() {
            const years = Object.keys(timelineData);
            years.sort((a, b) => parseInt(a) - parseInt(b));
            
            let html = '';
            years.forEach(year => {
                html += `
                    <div class="timeline-item-horizontal" data-year="${year}">
                        <div class="timeline-marker-horizontal">${year}</div>
                    </div>
                `;
            });
            
            timelineItemsHorizontal.innerHTML = html;
            
            // Add click event listeners to all timeline items
            document.querySelectorAll('.timeline-item-horizontal').forEach(item => {
                item.addEventListener('click', function() {
                    const year = this.getAttribute('data-year');
                    const index = years.indexOf(year);
                    // Scroll to the corresponding position
                    if (timelineScrollTrigger) {
                        const progress = index / (years.length - 1);
                        const scrollTo = timelineScrollTrigger.start + (progress * timelineScrollLength);
                        window.scrollTo({ top: scrollTo, behavior: 'smooth' });
                    }
                });
            });
        }
        
        // Function to generate scroll indicator dots
        function generateScrollIndicators() {
            const years = Object.keys(timelineData);
            years.sort((a, b) => parseInt(a) - parseInt(b));
            
            let html = '';
            years.forEach((year, index) => {
                html += `<div class="indicator-dot" data-index="${index}" data-year="${year}"></div>`;
            });
            
            scrollIndicator.innerHTML = html;
            
            // Add click event listeners to indicator dots
            scrollIndicator.querySelectorAll('.indicator-dot').forEach(dot => {
                dot.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    if (timelineScrollTrigger) {
                        const progress = index / (years.length - 1);
                        const scrollTo = timelineScrollTrigger.start + (progress * timelineScrollLength);
                        window.scrollTo({ top: scrollTo, behavior: 'smooth' });
                    }
                });
            });
        }
        
        // Function to update timeline description
        function updateTimelineDescription(year) {
            const data = timelineData[year];
            if (data) {
                timelineDescriptionPanel.innerHTML = `
                    <h3 class="timeline-desc-title">${data.title}</h3>
                    ${data.subtitle ? `<div class="timeline-desc-subtitle">${data.subtitle}</div>` : ''}
                    <div class="timeline-desc-date">${data.date}</div>
                    <div class="timeline-image-container">
                        <img src="${data.image}" alt="${data.title}" class="timeline-image">
                    </div>
                    <div class="timeline-desc-text">${data.description}</div>
                `;
                
                // Animate the description panel
                gsap.to(timelineDescriptionPanel, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    ease: "power2.out"
                });
                
                // Add active class to trigger image scale
                timelineDescriptionPanel.classList.add('active');
                setTimeout(() => {
                    timelineDescriptionPanel.classList.remove('active');
                }, 1000);
            }
        }
        
        // Function to center the active timeline item
        function centerActiveTimelineItem(index) {
            const itemsContainer = document.querySelector('.timeline-items-horizontal');
            const activeItem = document.querySelectorAll('.timeline-item-horizontal')[index];
            
            if (!itemsContainer || !activeItem) return;
            
            const containerWidth = document.querySelector('.timeline-items-container').clientWidth;
            const itemWidth = activeItem.offsetWidth;
            const itemOffsetLeft = activeItem.offsetLeft;
            const itemsContainerWidth = itemsContainer.scrollWidth;
            
            // Calculate the transform needed to center the active item
            const centerPosition = (containerWidth / 2) - (itemWidth / 2) - itemOffsetLeft;
            
            // Set bounds to prevent scrolling past the edges
            const maxTranslate = 0;
            const minTranslate = containerWidth - itemsContainerWidth;
            
            // Clamp the translation value between min and max
            let translateX = Math.max(minTranslate, Math.min(maxTranslate, centerPosition));
            
            // Apply the transform with GSAP animation
            gsap.to(itemsContainer, {
                x: translateX,
                duration: 0.8,
                ease: "power2.out"
            });
        }
        
        // Function to handle timeline item click
        function handleTimelineItemClick(item) {
            // Remove active class from all items
            document.querySelectorAll('.timeline-item-horizontal').forEach(i => {
                i.classList.remove('active');
            });
            
            // Add active class to clicked item
            item.classList.add('active');
            
            // Update description panel
            const year = item.getAttribute('data-year');
            updateTimelineDescription(year);
        }
        
        // Generate timeline items and indicators on page load
        generateTimelineItems();
        generateScrollIndicators();
        
        // Set the first item as active
        const firstItem = document.querySelector('.timeline-item-horizontal');
        const years = Object.keys(timelineData).sort((a, b) => parseInt(a) - parseInt(b));
        if (firstItem) {
            firstItem.classList.add('active');
            updateTimelineDescription(firstItem.getAttribute('data-year'));
        }
        
        // GSAP Animations for History Section
        gsap.timeline({
            scrollTrigger: {
                trigger: "#historySection",
                start: "top 80%",
                end: "bottom 20%",
                toggleActions: "play none none reverse"
            }
        })
        .from("#historySection .history-title", {
            opacity: 0,
            y: 30,
            duration: 1,
            ease: "power2.out"
        })
        .from("#historySection .history-content", {
            opacity: 0,
            x: -30,
            duration: 1,
            ease: "power2.out"
        }, "-=0.5")
        .from("#historySection .history-image", {
            opacity: 0,
            x: 30,
            duration: 1,
            ease: "power2.out"
        }, "-=0.5");
        
        // GSAP ScrollTrigger for Timeline Section
        let timelineScrollTrigger;
        const timelineScrollLength = 2000; // Total scroll distance for timeline
        
        // Main timeline scroll animation
        timelineScrollTrigger = ScrollTrigger.create({
            trigger: "#timelineTrigger",
            start: "top top",
            end: `+=${timelineScrollLength}`,
            pin: true,
            scrub: 1,
            markers: false, // Set to true for debugging
            onUpdate: (self) => {
                const progress = self.progress;
                const years = Object.keys(timelineData).sort((a, b) => parseInt(a) - parseInt(b));
                const totalYears = years.length;
                const activeIndex = Math.min(Math.floor(progress * totalYears), totalYears - 1);
                
                // Update active timeline item
                const timelineItems = document.querySelectorAll('.timeline-item-horizontal');
                timelineItems.forEach((item, index) => {
                    if (index === activeIndex) {
                        item.classList.add('active');
                        // Center the active item
                        centerActiveTimelineItem(activeIndex);
                    } else {
                        item.classList.remove('active');
                    }
                });
                
                // Update indicator dots
                const indicatorDots = document.querySelectorAll('.indicator-dot');
                indicatorDots.forEach((dot, index) => {
                    if (index === activeIndex) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
                
                // Update description panel with current year
                if (years[activeIndex]) {
                    updateTimelineDescription(years[activeIndex]);
                }
                
                // Update scroll progress bar
                const totalScrollHeight = document.body.scrollHeight - window.innerHeight;
                const currentScroll = window.scrollY;
                const scrollProgress = (currentScroll / totalScrollHeight) * 100;
                scrollProgressBar.style.width = `${scrollProgress}%`;
                
                // Show/hide scroll indicator
                if (self.isActive) {
                    scrollIndicator.classList.add('active');
                } else {
                    scrollIndicator.classList.remove('active');
                }
            },
            onEnter: () => {
                scrollIndicator.classList.add('active');
            },
            onLeave: () => {
                scrollIndicator.classList.remove('active');
            }
        });
        
        // Adjust spacer height based on timeline scroll length
        timelinePinSpacer.style.height = `${timelineScrollLength}px`;
        
        // Handle window resize
        window.addEventListener('resize', function() {
            // Re-center the active item on resize
            const activeItem = document.querySelector('.timeline-item-horizontal.active');
            if (activeItem) {
                const years = Object.keys(timelineData).sort((a, b) => parseInt(a) - parseInt(b));
                const activeIndex = Array.from(document.querySelectorAll('.timeline-item-horizontal')).indexOf(activeItem);
                centerActiveTimelineItem(activeIndex);
            }
            
            // Refresh ScrollTrigger instances
            ScrollTrigger.refresh();
        });
        
        // Initialize after everything is loaded
        window.addEventListener('load', function() {
            // Refresh ScrollTrigger to ensure proper calculations
            ScrollTrigger.refresh();
            
            // Center the active item
            const activeItem = document.querySelector('.timeline-item-horizontal.active');
            if (activeItem) {
                const years = Object.keys(timelineData).sort((a, b) => parseInt(a) - parseInt(b));
                const activeIndex = Array.from(document.querySelectorAll('.timeline-item-horizontal')).indexOf(activeItem);
                centerActiveTimelineItem(activeIndex);
            }
        });

    </script>
</body>
</html>